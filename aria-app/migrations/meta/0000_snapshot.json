{
  "id": "86e3a592-b903-48a6-9e4c-69e693dc9fc7",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "6",
  "dialect": "postgresql",
  "tables": {
    "public.aria_conversations": {
      "name": "aria_conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "default": "'New Conversation'"
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "aria_conversations_user_created_idx": {
          "name": "aria_conversations_user_created_idx",
          "columns": [
            "user_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "aria_conversations_user_id_users_id_fk": {
          "name": "aria_conversations_user_id_users_id_fk",
          "tableFrom": "aria_conversations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.aria_messages": {
      "name": "aria_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_cost": {
          "name": "prompt_cost",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "aria_messages_conversation_created_idx": {
          "name": "aria_messages_conversation_created_idx",
          "columns": [
            "conversation_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "aria_messages_conversation_id_aria_conversations_id_fk": {
          "name": "aria_messages_conversation_id_aria_conversations_id_fk",
          "tableFrom": "aria_messages",
          "tableTo": "aria_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.connected_devices": {
      "name": "connected_devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_user_id": {
          "name": "provider_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scopes": {
          "name": "scopes",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "connected_devices_user_provider_idx": {
          "name": "connected_devices_user_provider_idx",
          "columns": [
            "user_id",
            "provider"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "connected_devices_user_id_users_id_fk": {
          "name": "connected_devices_user_id_users_id_fk",
          "tableFrom": "connected_devices",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.dashboard_states": {
      "name": "dashboard_states",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "greeting": {
          "name": "greeting",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "subtitle": {
          "name": "subtitle",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "cards": {
          "name": "cards",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'rules'"
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "dashboard_states_user_id_users_id_fk": {
          "name": "dashboard_states_user_id_users_id_fk",
          "tableFrom": "dashboard_states",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "dashboard_states_user_id_unique": {
          "name": "dashboard_states_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      }
    },
    "public.insights": {
      "name": "insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "payload": {
          "name": "payload",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "action_data": {
          "name": "action_data",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_dismissed": {
          "name": "is_dismissed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "insights_user_type_idx": {
          "name": "insights_user_type_idx",
          "columns": [
            "user_id",
            "type"
          ],
          "isUnique": false
        },
        "insights_user_expires_idx": {
          "name": "insights_user_expires_idx",
          "columns": [
            "user_id",
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "insights_user_id_users_id_fk": {
          "name": "insights_user_id_users_id_fk",
          "tableFrom": "insights",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.planned_workouts": {
      "name": "planned_workouts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "plan_id": {
          "name": "plan_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "week_number": {
          "name": "week_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "structure": {
          "name": "structure",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "target_duration": {
          "name": "target_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_distance": {
          "name": "target_distance",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "target_pace": {
          "name": "target_pace",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "planned_workouts_plan_date_idx": {
          "name": "planned_workouts_plan_date_idx",
          "columns": [
            "plan_id",
            "date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "planned_workouts_plan_id_training_plans_id_fk": {
          "name": "planned_workouts_plan_id_training_plans_id_fk",
          "tableFrom": "planned_workouts",
          "tableTo": "training_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.races": {
      "name": "races",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "distance": {
          "name": "distance",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "distance_label": {
          "name": "distance_label",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "goal_time": {
          "name": "goal_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_completed": {
          "name": "is_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "finish_time": {
          "name": "finish_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "finish_place": {
          "name": "finish_place",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "age_group_place": {
          "name": "age_group_place",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "workout_id": {
          "name": "workout_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "races_user_date_idx": {
          "name": "races_user_date_idx",
          "columns": [
            "user_id",
            "date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "races_user_id_users_id_fk": {
          "name": "races_user_id_users_id_fk",
          "tableFrom": "races",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "races_workout_id_workouts_id_fk": {
          "name": "races_workout_id_workouts_id_fk",
          "tableFrom": "races",
          "tableTo": "workouts",
          "columnsFrom": [
            "workout_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.training_plans": {
      "name": "training_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "plan_name": {
          "name": "plan_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_event_name": {
          "name": "target_event_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "target_event_date": {
          "name": "target_event_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "target_distance": {
          "name": "target_distance",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "target_time": {
          "name": "target_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "week_count": {
          "name": "week_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "ai_plan_config": {
          "name": "ai_plan_config",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "training_plans_user_status_idx": {
          "name": "training_plans_user_status_idx",
          "columns": [
            "user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "training_plans_user_id_users_id_fk": {
          "name": "training_plans_user_id_users_id_fk",
          "tableFrom": "training_plans",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.user_preferences": {
      "name": "user_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "notification_prefs": {
          "name": "notification_prefs",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"workoutReminders\":true,\"dailyDigest\":true,\"weeklyReport\":true,\"coachingTips\":true,\"competitionAlerts\":true}'::json"
        },
        "privacy_prefs": {
          "name": "privacy_prefs",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"shareWorkouts\":false,\"publicProfile\":false,\"dataAnalytics\":true}'::json"
        },
        "ai_coaching_style": {
          "name": "ai_coaching_style",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'balanced'"
        },
        "preferred_workout_days": {
          "name": "preferred_workout_days",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "preferred_workout_time": {
          "name": "preferred_workout_time",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_preferences_user_id_users_id_fk": {
          "name": "user_preferences_user_id_users_id_fk",
          "tableFrom": "user_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_preferences_user_id_unique": {
          "name": "user_preferences_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      }
    },
    "public.user_profiles": {
      "name": "user_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "sport": {
          "name": "sport",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "experience_level": {
          "name": "experience_level",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "goal_tags": {
          "name": "goal_tags",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "units": {
          "name": "units",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'imperial'"
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "weekly_goal_distance": {
          "name": "weekly_goal_distance",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "weekly_goal_duration": {
          "name": "weekly_goal_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_completed": {
          "name": "onboarding_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_profiles_user_id_users_id_fk": {
          "name": "user_profiles_user_id_users_id_fk",
          "tableFrom": "user_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_profiles_user_id_unique": {
          "name": "user_profiles_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      }
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "auth_provider": {
          "name": "auth_provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "apple_id": {
          "name": "apple_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_apple_id_unique": {
          "name": "users_apple_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "apple_id"
          ]
        }
      }
    },
    "public.workout_completions": {
      "name": "workout_completions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "planned_workout_id": {
          "name": "planned_workout_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "actual_workout_id": {
          "name": "actual_workout_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "compliance_score": {
          "name": "compliance_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "reason_skipped": {
          "name": "reason_skipped",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "perceived_effort": {
          "name": "perceived_effort",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mood": {
          "name": "mood",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workout_completions_planned_workout_id_planned_workouts_id_fk": {
          "name": "workout_completions_planned_workout_id_planned_workouts_id_fk",
          "tableFrom": "workout_completions",
          "tableTo": "planned_workouts",
          "columnsFrom": [
            "planned_workout_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workout_completions_actual_workout_id_workouts_id_fk": {
          "name": "workout_completions_actual_workout_id_workouts_id_fk",
          "tableFrom": "workout_completions",
          "tableTo": "workouts",
          "columnsFrom": [
            "actual_workout_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.workout_samples": {
      "name": "workout_samples",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "workout_id": {
          "name": "workout_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "heart_rate": {
          "name": "heart_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pace": {
          "name": "pace",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "cadence": {
          "name": "cadence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "elevation": {
          "name": "elevation",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "power": {
          "name": "power",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workout_samples_workout_timestamp_idx": {
          "name": "workout_samples_workout_timestamp_idx",
          "columns": [
            "workout_id",
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workout_samples_workout_id_workouts_id_fk": {
          "name": "workout_samples_workout_id_workouts_id_fk",
          "tableFrom": "workout_samples",
          "tableTo": "workouts",
          "columnsFrom": [
            "workout_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.workout_sessions": {
      "name": "workout_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "planned_workout_id": {
          "name": "planned_workout_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "current_phase": {
          "name": "current_phase",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "current_interval_index": {
          "name": "current_interval_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paused_at": {
          "name": "paused_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_paused_duration": {
          "name": "total_paused_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "live_metrics": {
          "name": "live_metrics",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "checkpoints": {
          "name": "checkpoints",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "final_workout_id": {
          "name": "final_workout_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workout_sessions_user_status_idx": {
          "name": "workout_sessions_user_status_idx",
          "columns": [
            "user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workout_sessions_user_id_users_id_fk": {
          "name": "workout_sessions_user_id_users_id_fk",
          "tableFrom": "workout_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workout_sessions_planned_workout_id_planned_workouts_id_fk": {
          "name": "workout_sessions_planned_workout_id_planned_workouts_id_fk",
          "tableFrom": "workout_sessions",
          "tableTo": "planned_workouts",
          "columnsFrom": [
            "planned_workout_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workout_sessions_final_workout_id_workouts_id_fk": {
          "name": "workout_sessions_final_workout_id_workouts_id_fk",
          "tableFrom": "workout_sessions",
          "tableTo": "workouts",
          "columnsFrom": [
            "final_workout_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.workouts": {
      "name": "workouts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "provider_source": {
          "name": "provider_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "distance_meters": {
          "name": "distance_meters",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "elevation_gain_meters": {
          "name": "elevation_gain_meters",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "avg_pace": {
          "name": "avg_pace",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_speed": {
          "name": "avg_speed",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "max_speed": {
          "name": "max_speed",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "avg_heart_rate": {
          "name": "avg_heart_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_heart_rate": {
          "name": "max_heart_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cadence": {
          "name": "avg_cadence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "calories": {
          "name": "calories",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "splits": {
          "name": "splits",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "weather_conditions": {
          "name": "weather_conditions",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "gps_route": {
          "name": "gps_route",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_private": {
          "name": "is_private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workouts_user_start_time_idx": {
          "name": "workouts_user_start_time_idx",
          "columns": [
            "user_id",
            "start_time"
          ],
          "isUnique": false
        },
        "workouts_user_type_idx": {
          "name": "workouts_user_type_idx",
          "columns": [
            "user_id",
            "type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workouts_user_id_users_id_fk": {
          "name": "workouts_user_id_users_id_fk",
          "tableFrom": "workouts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}